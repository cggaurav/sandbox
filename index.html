
<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Sandbox</title>
	<link rel="stylesheet" href="css/style.css">
	<script type="text/javascript" src="js/paper.js"></script>
	<script type="text/paperscript" canvas="canvas">
		var bbox;
		var oldSize = view.size;
		var sandbox_margin = 5;
		var sandbox_length = 100;

		document.onmousemove = function(e){
			var x = e.pageX;
			var y = e.pageY;
			console.log("x:",x,"y:",y);
		};

		onResize();

		// function onMouseDown(event) {
		// 	sites.push(event.point);
		// 	renderDiagram();
		// }

		// function onMouseMove(event) {
		// 	mousePos = event.point;
		// 	if (event.count == 0)
		// 		sites.push(event.point);
		// 	sites[sites.length - 1] = event.point;
		// 	renderDiagram();
		// }

		function renderDiagram() {

			project.activeLayer.children = [];

			// Change the current style of the project:
			project.currentStyle = {
				strokeColor: '#fff',
				fillColor: '#00BBDE',
				strokeWidth: 3
			};

			var center = view.center;
			var sandbox_length = view.viewSize.height*(0.13);
			var sandbox_width = view.viewSize.width;
			var sandbox_slide = sandbox_length*(3/4);
			// var sandbox_slide = 0;
			var sandbox_parallellogram = [];
			//-1,1
			sandbox_parallellogram[0] = new Path({
	           closed: true,
	           segments: [center , center + { x: sandbox_slide, y: sandbox_length} , center + { x: sandbox_length + sandbox_slide, y: sandbox_length} , center + { x: sandbox_length, y: 0} ]
			});
			//-1,-1
			sandbox_parallellogram[1] = new Path({
	           closed: true,
	           segments: [center , center + { x: -sandbox_length, y: 0} , center + { x: -sandbox_length -sandbox_slide, y: sandbox_length} , center + { x: -sandbox_slide, y: sandbox_length} ]
			});
			//1,1
			sandbox_parallellogram[2] = new Path({
	           closed: true,
	           segments: [center , center + { x: sandbox_length, y: 0} , center + { x: sandbox_length + sandbox_slide, y: -sandbox_length} , center + { x: sandbox_slide, y: -sandbox_length} ]
			});
			//-1,1
			sandbox_parallellogram[3] = new Path({
	           closed: true,
	           segments: [center , center + { x: -sandbox_length, y: 0}, center + { x: -sandbox_length -sandbox_slide, y: -sandbox_length}, center + { x: -sandbox_slide, y: -sandbox_length}]
			});


			var sandbox_squares = [];

			// 1,1
			sandbox_squares[0] = new Path.Rectangle({
				point: center + {x:sandbox_slide, y:-2*sandbox_length},
				size: [sandbox_length, sandbox_length]
			});			

			// -1,1
			sandbox_squares[1] = new Path.Rectangle({
				point: center + {x:-sandbox_length -sandbox_slide, y:-2*sandbox_length},
				size: [sandbox_length, sandbox_length]
			});			

			// -1,-1
			sandbox_squares[2] = new Path.Rectangle({
				point: center + {x:-sandbox_length -sandbox_slide, y:sandbox_length},
				size: [sandbox_length, sandbox_length]
			});			

			sandbox_squares[3] = new Path.Rectangle({
				point: center + {x: sandbox_slide, y:sandbox_length},
				size: [sandbox_length, sandbox_length]
			});			

			var sandbox_vertical_parallellograms = [];

			//-1,1
			sandbox_vertical_parallellograms[0] = new Path({
	           closed: true,
	           segments: [center , center + { x: -sandbox_slide, y: -sandbox_length}, center + { x: -sandbox_slide, y: -2*sandbox_length}, center + { x: 0, y: -sandbox_length}]
			});

			// 1,1
			sandbox_vertical_parallellograms[1] = new Path({
	           closed: true,
	           segments: [center , center + { x: sandbox_slide, y: -sandbox_length}, center + { x: sandbox_slide, y: -2*sandbox_length}, center + { x: 0, y: -sandbox_length}]
			});

			// -1,-1
			sandbox_vertical_parallellograms[2] = new Path({
	           closed: true,
	           segments: [center , center + { x: -sandbox_slide, y: sandbox_length}, center + { x: -sandbox_slide, y: 2*sandbox_length}, center + { x: 0, y: sandbox_length}]
			});

			// 1,-1
			sandbox_vertical_parallellograms[3] = new Path({
	           closed: true,
	           segments: [center , center + { x: sandbox_slide, y: sandbox_length}, center + { x: sandbox_slide, y: 2*sandbox_length}, center + { x: 0, y: sandbox_length}]
			});

			var sandbox_outer_squares = [];

			// up
			sandbox_outer_squares[0] = new Path({
	           closed: true,
	           segments: [center + {x: 0 , y: -sandbox_length} , center + { x: sandbox_slide, y: -2*sandbox_length} , center + { x: 0, y: -3*sandbox_length} , center + { x: -sandbox_slide, y: -2*sandbox_length} ]
			});

			// left
			sandbox_outer_squares[1] = new Path({
	           closed: true,
	           segments: [center + {x: -sandbox_length , y: 0} , center + { x: -sandbox_length - sandbox_slide, y: -sandbox_length} , center + { x: -sandbox_length - 2*sandbox_slide , y: 0} , center + { x: -sandbox_slide -sandbox_length, y: sandbox_length} ]
			});

			// right
			sandbox_outer_squares[2] = new Path({
	           closed: true,
	           segments: [center + {x: sandbox_length , y: 0} , center + { x: sandbox_length + sandbox_slide, y: -sandbox_length} , center + { x: sandbox_length + 2*sandbox_slide , y: 0} , center + { x: sandbox_slide +sandbox_length, y: sandbox_length} ]
			});

			// down
			sandbox_outer_squares[3] = new Path({
	           closed: true,
	           segments: [center + {x: 0 , y: sandbox_length} , center + { x: -sandbox_slide, y: 2*sandbox_length} , center + { x: 0 , y: 3*sandbox_length} , center + { x: sandbox_slide, y: 2*sandbox_length} ]
			});
		}

		function onResize() {
			var margin = 5;

			bbox = {
				xl: margin,
				xr: view.bounds.width - margin,
				yt: margin,
				yb: view.bounds.height - margin
			};
			oldSize = view.size;
			renderDiagram();
		}

		// function onKeyDown(event) {
		// 	if (event.key == 'space') {
		// 		selected = !selected;
		// 		renderDiagram();
		// 	}
		// }
	</script>
</head>
<body>
	<canvas id="canvas" resize></canvas>
</body>
</html>