
<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Sandbox</title>
	<link rel="stylesheet" href="/css/style.css">
	<script type="text/javascript" src="/js/paper.js"></script>
	<script type="text/paperscript" canvas="canvas">
		var bbox;
		var oldSize = view.size;
		var sandbox_margin = 5;
		var sandbox_length = 100;

		document.onmousemove = function(e){
			var x = e.pageX;
			var y = e.pageY;
			console.log("x:",x,"y:",y);
		};

		onResize();

		// function onMouseDown(event) {
		// 	sites.push(event.point);
		// 	renderDiagram();
		// }

		// function onMouseMove(event) {
		// 	mousePos = event.point;
		// 	if (event.count == 0)
		// 		sites.push(event.point);
		// 	sites[sites.length - 1] = event.point;
		// 	renderDiagram();
		// }

		function renderDiagram() {

			project.activeLayer.children = [];

			var center = view.center;
			var sandbox_length = view.viewSize.height*(0.1);
			var sandbox_width = view.viewSize.width;
			var sandbox_slide = sandbox_length*(7/10);
			var sandbox_parallellogram = [];
			sandbox_parallellogram[0] = new Path({
	           closed: true,
	           segments: [center , center + { x: sandbox_slide, y: sandbox_length} , center + { x: sandbox_length + sandbox_slide, y: sandbox_length} , center + { x: sandbox_length, y: 0} ],
	           fillColor: '#00BBDE'
			});

			sandbox_parallellogram[1] = new Path({
	           closed: true,
	           segments: [center , center + { x: -sandbox_length, y: 0} , center + { x: -sandbox_length -sandbox_slide, y: sandbox_length} , center + { x: -sandbox_slide, y: sandbox_length} ],
	           fillColor: '#00BBDE'
			});

			sandbox_parallellogram[2] = new Path({
	           closed: true,
	           segments: [center , center + { x: sandbox_length, y: 0} , center + { x: sandbox_length + sandbox_slide, y: -sandbox_length} , center + { x: sandbox_slide, y: -sandbox_length} ],
	           fillColor: '#00BBDE'
			});

			sandbox_parallellogram[3] = new Path({
	           closed: true,
	           segments: [center , center + { x: -sandbox_length, y: 0}, center + { x: -sandbox_length -sandbox_slide, y: -sandbox_length}, center + { x: -sandbox_slide, y: -sandbox_length}],
	           fillColor: '#00BBDE'
			});

			// sandbox_parallellogram.flatten(4);

			

		}

		function onResize() {
			var margin = 5;

			bbox = {
				xl: margin,
				xr: view.bounds.width - margin,
				yt: margin,
				yb: view.bounds.height - margin
			};
			oldSize = view.size;
			renderDiagram();
		}

		// function onKeyDown(event) {
		// 	if (event.key == 'space') {
		// 		selected = !selected;
		// 		renderDiagram();
		// 	}
		// }
	</script>
</head>
<body>
	<canvas id="canvas" resize></canvas>
</body>
</html>